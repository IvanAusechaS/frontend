{"ast":null,"code":"// frontend/src/App.js\nimport React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import Login from'./pages/Login';import PedirTurno from'./pages/PedirTurno';import ProfesionalDashboard from'./pages/ProfesionalDashboard';import Home from'./pages/Home';import Register from'./pages/Register';import Header from'./components/Header';// Reemplaza Nav con Header\nimport Footer from'./components/Footer';import CompleteProfile from'./pages/CompleteProfile';import ChangePassword from'./pages/ChangePassword';import ResetPassword from'./pages/ResetPassword';import ResetPasswordConfirm from'./pages/ResetPasswordConfirm';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[user,setUser]=useState(null);useEffect(()=>{const storedUser=localStorage.getItem('user');console.log('Cargando usuario desde localStorage en App:',storedUser);if(storedUser){try{const parsedUser=JSON.parse(storedUser);const normalizedUser={id:parsedUser.id,cedula:parsedUser.cedula||'',email:parsedUser.email||'',nombre:parsedUser.nombre||'Usuario',es_profesional:parsedUser.es_profesional||false};setUser(normalizedUser);}catch(error){console.error('Error al parsear usuario desde localStorage:',error);localStorage.removeItem('user');}}},[]);const setNormalizedUser=newUser=>{if(!newUser){setUser(null);localStorage.removeItem('user');return;}const normalizedUser={id:newUser.id,cedula:newUser.cedula||'',email:newUser.email||'',nombre:newUser.nombre||'Usuario',es_profesional:newUser.es_profesional||false};setUser(normalizedUser);localStorage.setItem('user',JSON.stringify(normalizedUser));};console.log('Usuario actual en App antes de render:',user);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Header,{user:user,setUser:setNormalizedUser}),\" \",/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{user:user,setUser:setNormalizedUser})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{setUser:setNormalizedUser})}),/*#__PURE__*/_jsx(Route,{path:\"/pedir-turno\",element:/*#__PURE__*/_jsx(PedirTurno,{user:user,setUser:setNormalizedUser})}),/*#__PURE__*/_jsx(Route,{path:\"/profesional\",element:/*#__PURE__*/_jsx(ProfesionalDashboard,{user:user,setUser:setNormalizedUser})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{setUser:setNormalizedUser})}),/*#__PURE__*/_jsx(Route,{path:\"/complete-profile\",element:/*#__PURE__*/_jsx(CompleteProfile,{setUser:setNormalizedUser})}),/*#__PURE__*/_jsx(Route,{path:\"/change-password\",element:/*#__PURE__*/_jsx(ChangePassword,{user:user,setUser:setNormalizedUser})}),/*#__PURE__*/_jsx(Route,{path:\"/reset-password\",element:/*#__PURE__*/_jsx(ResetPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset-password-confirm\",element:/*#__PURE__*/_jsx(ResetPasswordConfirm,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Login","PedirTurno","ProfesionalDashboard","Home","Register","Header","Footer","CompleteProfile","ChangePassword","ResetPassword","ResetPasswordConfirm","jsx","_jsx","jsxs","_jsxs","App","user","setUser","storedUser","localStorage","getItem","console","log","parsedUser","JSON","parse","normalizedUser","id","cedula","email","nombre","es_profesional","error","removeItem","setNormalizedUser","newUser","setItem","stringify","children","className","path","element"],"sources":["C:/Users/ivana/.vscode/Proyecto DSI/frontend/src/App.js"],"sourcesContent":["// frontend/src/App.js\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport Login from './pages/Login';\nimport PedirTurno from './pages/PedirTurno';\nimport ProfesionalDashboard from './pages/ProfesionalDashboard';\nimport Home from './pages/Home';\nimport Register from './pages/Register';\nimport Header from './components/Header'; // Reemplaza Nav con Header\nimport Footer from './components/Footer';\nimport CompleteProfile from './pages/CompleteProfile';\nimport ChangePassword from './pages/ChangePassword';\nimport ResetPassword from './pages/ResetPassword';\nimport ResetPasswordConfirm from './pages/ResetPasswordConfirm';\nimport './App.css';\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    console.log('Cargando usuario desde localStorage en App:', storedUser);\n    if (storedUser) {\n      try {\n        const parsedUser = JSON.parse(storedUser);\n        const normalizedUser = {\n          id: parsedUser.id,\n          cedula: parsedUser.cedula || '',\n          email: parsedUser.email || '',\n          nombre: parsedUser.nombre || 'Usuario',\n          es_profesional: parsedUser.es_profesional || false\n        };\n        setUser(normalizedUser);\n      } catch (error) {\n        console.error('Error al parsear usuario desde localStorage:', error);\n        localStorage.removeItem('user');\n      }\n    }\n  }, []);\n\n  const setNormalizedUser = (newUser) => {\n    if (!newUser) {\n      setUser(null);\n      localStorage.removeItem('user');\n      return;\n    }\n    const normalizedUser = {\n      id: newUser.id,\n      cedula: newUser.cedula || '',\n      email: newUser.email || '',\n      nombre: newUser.nombre || 'Usuario',\n      es_profesional: newUser.es_profesional || false\n    };\n    setUser(normalizedUser);\n    localStorage.setItem('user', JSON.stringify(normalizedUser));\n  };\n\n  console.log('Usuario actual en App antes de render:', user);\n\n  return (\n    <Router>\n      <div className=\"app-container\">\n        <Header user={user} setUser={setNormalizedUser} /> {/* Reemplaza Nav con Header */}\n        <main className=\"main-content\">\n          <Routes>\n            <Route path=\"/\" element={<Home user={user} setUser={setNormalizedUser} />} />\n            <Route path=\"/login\" element={<Login setUser={setNormalizedUser} />} />\n            <Route path=\"/pedir-turno\" element={<PedirTurno user={user} setUser={setNormalizedUser} />} />\n            <Route path=\"/profesional\" element={<ProfesionalDashboard user={user} setUser={setNormalizedUser} />} />\n            <Route path=\"/register\" element={<Register setUser={setNormalizedUser} />} />\n            <Route path=\"/complete-profile\" element={<CompleteProfile setUser={setNormalizedUser} />} />\n            <Route path=\"/change-password\" element={<ChangePassword user={user} setUser={setNormalizedUser} />} />\n            <Route path=\"/reset-password\" element={<ResetPassword />} />\n            <Route path=\"/reset-password-confirm\" element={<ResetPasswordConfirm />} />\n          </Routes>\n        </main>\n        <Footer />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}